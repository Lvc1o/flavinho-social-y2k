{% extends "base.html" %}
{% block title %}Perfil â€¢ Rede Social MÃ¡gica{% endblock %}
{% block content %}
<section class="card profile-card">
    <header class="profile-header">
        <img class="avatar big" src="{{ url_for('static', filename=user['avatar_path']) if user['avatar_path'] else url_for('static', filename='img/default-avatar.png') }}" alt="Avatar">
        <div>
            <h2>{{ user['display_name'] or user['username'] }}</h2>
            <p class="username">@{{ user['username'] }}</p>
            <p class="status">{{ user['bio'] or 'Sem biografia ainda!' }}</p>
            {% if not is_self %}
            <p class="small-text">VocÃª estÃ¡ vendo o perfil de outra pessoa.</p>
            {% endif %}
        </div>
    </header>
    <div class="profile-body">
        <div class="profile-info">
            <h3>InformaÃ§Ãµes</h3>
            <ul class="profile-meta">
                <li><strong>Idade:</strong> {{ user['age'] or '-' }}</li>
                <li><strong>GÃªnero:</strong> {{ user['gender'] or '-' }}</li>
                <li><strong>Cidade:</strong> {{ user['city'] or '-' }}</li>
                <li><strong>Status:</strong> {{ user['status_msg'] or '-' }}</li>
            </ul>
            {% if is_self %}
            <a href="{{ url_for('auth.edit_profile') }}" class="btn">Editar perfil</a>
            {% endif %}
        </div>
        <div class="profile-games">
            <h3>EstatÃ­sticas de Jogos ðŸŽ®</h3>
            {% if best_scores %}
            <ul>
                {% for item in best_scores %}
                <li><strong>{{ item.game|capitalize }}:</strong> {{ item.score }} ({{ item.last_played_human }})</li>
                {% endfor %}
            </ul>
            {% else %}
            <p class="small-text">Sem scores ainda. Jogue Tetris ou Pac-Man para aparecer aqui!</p>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}
